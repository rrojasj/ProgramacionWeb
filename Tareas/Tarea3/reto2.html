<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="imgs/pw_t3_favicon.png">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/reglas.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/reto2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Krub:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/c3a0c05b30.js" crossorigin="anonymous"></script>

    <title>Reto 2</title>
</head>

<body id="inicio">


    <header class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-6 col-lg-6 h-logo">
                    <a href="index.html"><img src="imgs/pw_t3_index_logo.png" alt="Menu de Retos"></a>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-6 pt-3">
                    <ul class="nav justify-content-end menu-items">
                        <li class="nav-item">
                          <a class="nav-link active" aria-current="page" href="https://ucenfotec.ac.cr/" target="_blank">Cenfotec</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="https://sdtimes.com/sd-times-magazine" target="_blank">SD Times</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="https://www.developer-tech.com/" target="_blank">Developer Tech</a>
                        </li>
                        <!-- <li class="nav-item">
                            <a class="nav-link" href="https://www.developer-tech.com/" target="_blank">Developer Tech</a>
                        </li> -->
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Inicio</a>
                        </li>
                      </ul>
                      <div class="pb-2"></div>
                </div>
            </div>
        </div>
    </header>

    <section class="container-fluid">
        <div class="container">
            <h1 class="pt-5 text-center">Facturación</h1>

            <div class="container">
                <div class="row">
                    <div class="col-sm-12 col-md-6 col-lg-6">
                        <h2>Información general:</h2>

                        <div class="input-group flex-nowrap pt-3">
                            <span class="input-group-text" id="infoFecha">Fecha</span>
                            <input type="text" id="fecha" class="form-control" aria-describedby="infoFecha" disabled>
                        </div>   

                        <div class="input-group flex-nowrap pt-3">
                            <span class="input-group-text" id="infoCliente">Cliente</span>
                            <input type="text" id="nombreCliente" class="form-control" placeholder="Nombre y apellidos" aria-label="Nombre" aria-describedby="infoCliente">
                        </div>   
                        
                        <div class="input-group flex-nowrap pt-3">
                            <span class="input-group-text" >Artículo</span>
                            <select class="form-select" id="infoArticulo" aria-label="Default select example" onchange="articuloOnChange(this)">
                                <option selected>Selecione el artículo</option>
                                <option value="1">Impresora</option>
                                <option value="2">Monitor</option>
                                <option value="3">Teclado</option>
                                <option value="4">Laptop</option>
                            </select>
                        </div>

                        <div class="input-group flex-nowrap pt-3">
                            <span class="input-group-text">Precio</span>
                            <input id="infoPrecio" type="number" oninput="validity.valid||(value='')" class="form-control" disabled>
                        </div>

                        <div class="input-group flex-nowrap pt-3">
                            <span class="input-group-text">Cantidad</span>
                            <input id="infoCantidad" type="number"  size="2" maxlength="2" oninput="validity.valid||(value='')" onkeyup="this.value=Numeros(this.value)" class="form-control">
                        </div>
                        
                        <div class="pt-3">
                            <button type="button" class="btn btn-primary" onclick="validarDatos()">Facturar</button>
                            <button type="button" class="btn btn-warning" onclick="borrarDatosForm()">Borrar</button>
                        </div>

                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-6">
                        <div class="animacion-factura cursor"></div>
                    </div>
                </div>
            </div>
        </div>

    </section>

    <section class="container-fluid">
        <div class="container">

            <!-- Modal -->
            <div class="modal fade" id="invoiceModal" tabindex="-1" aria-labelledby="invoiceModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <section>
                            <div class="modal-header">
                                <h1 class="modal-title fs-5">Detalles de factura</h3>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <h6 class="pb-2"><span class="span-modal1">Factura #<span id="facturaModal"></span></span></h6>
                                <h6 class="pb-2"><span class="span-modal1">Fecha: <span id="fechaModal"></span></span></h6>
                                <h6 class="pb-2"><span class="span-modal1">Cliente: <span id="clienteModal"></span></span></h6>
                            </div>
                        </section>
                        <br>
                        <section>
                            <div class="modal-content container text-center pt-3">
                                <!-- la clase table-info es para darle una apariencia grafica a la tabla -->
                                <table class="table table-hover table-light">
                                    <!-- seccion de encabezado de tabla -->
                                    <thead>
                                        <!-- <tr> es fila de tabla-->
                                        <tr>
                                            <!-- <th> es celda de tabla-->
                                            <th>#</th>
                                            <th>Artículo</th>
                                            <th>Cantidad</th>
                                            <th>Precio unidad</th>
                                        </tr>
                                    </thead>
                                    <!-- cuerpo de tabla -->
                                    <tbody id="tablaModal"></tbody>
                                </table>
                            </div>
                        </section>
                        <section>
                            <div class="modal-body span-modal2">
                                <h6 class="pb-2"><span>Subtotal: ₡<span id="subtotalModal"></span></span></h6>
                                <h6 class="pb-2"><span>IVA 13%: ₡<span id="ivaModal"></span></span></h6>
                                <h6 class="pb-2"><span>Servicio 5%: ₡<span id="servicioModal"></span></span></h6>
                                <h6 class="pb-2"><span>Total a pagar: ₡<span id="totalPagarModal"></span></span></h6>
                            </div>
                        </section>
                        <div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" id="btnGuardarGen" class="btn btn-primary" aria-label="Close">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h1 class="pt-5 text-center">Tabla general de ventas</h1>
        <div class="container text-center pt-5">
            <!-- la clase table-info es para darle una apariencia grafica a la tabla -->
            <table class="table table-hover table-light">
                <!-- seccion de encabezado de tabla -->
                <thead>
                    <!-- <tr> es fila de tabla-->
                    <tr>
                        <!-- <th> es celda de tabla-->
                        <th>Factura No.</th>
                        <th>Artículo</th>
                        <th>Precio</th>
                        <th>Cantidad uds.</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <!-- cuerpo de tabla -->
                <tbody id="tablaGeneral"></tbody>
            </table>
        </div>
        <div class="container pt-3">
            <button type="button" id="btnImprimir" class="btn btn-secondary">Imprimir</button>
            <button type="button" class="btn btn-warning" onclick="borrarDatosForm()">Borrar</button>
        </div>
        </div> 
    </section>

    <div class="pt-5"></div>
    <div class="pt-5"></div>
    <footer class="container">
        <div class="container text-center">
            <div class="row">
                <div>
                    <h4 class="display-6 text-white">&copy robrojas Web Development Derechos Reservados</h4>
                </div>
            </div>
        </div>
    </footer>


    
    <!-- carga de la interactividad del framework -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    
    
    <!-- carga la librería JQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    
    <!-- interactividad Lottie JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.13/lottie.min.js"></script>

    <!-- libreria Lottie JS-->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@0.3.0/dist/lottie-player.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    
    <script src="js/reto2.js"></script>

    <!-- programacion animacion-login -->
    <script>
        // Selecciona un elemento del DOM con la clase CSS "animacion-login" y lo almacena en la variable animationDiv
        let animationDiv = document.querySelector(".animacion-factura");
        // Carga la animación utilizando la función loadAnimation de la biblioteca bodymMvin
        let animation = bodymovin.loadAnimation({
            // Es el contenedor donde se muestra la animación, que en este caso es el elemento llamado animationDiv
            container: animationDiv,
            path: "https://lottie.host/07f7abc7-8b82-49ad-bc1b-4886cc7b5237/ogRuPMgVom.json",
            renderer: "svg",
            loop: false,
            autoplay: true,
            name: "RR-Cenfotec",
        });
        // En la función click se llama al método playSegments() en la animación.
        // Este método reproduce la animación desde el fotograma 0 hasta el fotograma 150, y el segundo argumento (true) indica si la animación debe reproducirse en bucle.
        animationDiv.addEventListener("click", function() {
            animation.playSegments([0, 101], true);
        });
        animationDiv.style.height = "300px";
    </script>

</body>
</html>
